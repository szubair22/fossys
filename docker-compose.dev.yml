# Development configuration with live reload and full admin access

services:
  pocketbase:
    image: ghcr.io/muchobien/pocketbase:0.23
    container_name: orgmeet-pocketbase-dev
    restart: unless-stopped
    ports:
      # Direct access to PocketBase in development (for debugging)
      - "8090:8090"
    volumes:
      - ./pocketbase/pb_data:/pb_data
      - ./pocketbase/pb_migrations:/pb_migrations
      - ./pocketbase/pb_hooks:/pb_hooks
    environment:
      - APP_ENV=development
    env_file:
      - .env.dev
    command: ["--dev", "--migrationsDir=/pb_migrations"]

  frontend:
    image: nginx:1.27-alpine
    container_name: orgmeet-frontend-dev
    restart: unless-stopped
    ports:
      - "3000:80"
    volumes:
      - ./frontend:/usr/share/nginx/html:ro
      - ./nginx.dev.conf:/etc/nginx/conf.d/default.conf:ro
    depends_on:
      - pocketbase
